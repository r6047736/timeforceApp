<!--
  Generated template for the TimemainPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border [hidden]="true">
  <ion-navbar transparent> <ion-title></ion-title> </ion-navbar>
</ion-header>

<ion-content fullscreen>
  <div class="container" ion-fixed>
    <div class="header">
      <div
        class=""
        [hidden]="this.counting"
        (click)="openSetting()"
        float-right
      >
        <ion-icon name="custom-timer"> </ion-icon>
      </div>
    </div>

    <div class="body">
      <div class="title"></div>
      <div class="title">{{ taskName }}</div>
      <div class="warn">请设置任务名称</div>
      <div class="count">{{ tm.timeStr }}</div>
    </div>
    <div class="footer">
      <div
        class="start"
        [ngClass]="{ disable: counting == true }"
        (click)="startTimer()"
      >
        开始
      </div>

      <div class="operations" [ngClass]="{ hid: !counting }">
        <div class="pause" [ngClass]="{ movein: counting && !fail }">
          重复 {{ this.repeatTime }} 次
        </div>
        <div
          class="giveup"
          [ngClass]="{ movein: counting && !fail && !finish }"
          (tap)="failTask()"
          [hidden]="counting && finish">
          放弃{{  !finish && fail }}
        </div>
        <div
          class="giveup"
          [hidden]="!finish"
          [ngClass]="{ movein: counting && !fail && finish }"
        >
          跳过休息
        </div>
      </div>
    </div>
  </div>

  <timer
    [totalTime]="60"
    [totalRelax]="60"
    (update)="updateTime($event)"
    (finish)="finishEvent($event)"
    (pause)="event($event)"
    (fail)="event($event)"
    (end)="endCircle($event)"
  ></timer>
</ion-content>

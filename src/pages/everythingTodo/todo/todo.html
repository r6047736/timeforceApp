<!--
  Generated template for the TodoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
    <ion-navbar transparent>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title></ion-title>
  
      <ion-buttons end  (click)="openAddTask()">
<a>  <ion-icon name="add"></ion-icon>
  添加任务</a>
          
      
      
      </ion-buttons>
    </ion-navbar>
  </ion-header>
  
  <ion-content>
    <div class="container">
      <div class="banner">
        {{quote}}
         
      </div>
      <div class="body">
        <div class="sections">
          <div class="section-today section" (tap)="goTo(0)" >
            <span  [ngClass]="{'selected': tab==0 }" >今日</span>
          </div>
          <div class="section-week section" (tap)="goTo(1)">
            <span [ngClass]="{'selected': tab==1 }">本周</span>
          </div>
        

        </div>
        <ion-slides #slides  >
          <ion-slide class="today">   
          <div class="category" *ngFor="let td of  todo.todayTasks ; let i = index" (tap)="goToDetail(td.title, todo.todos[i],i)" >
              <div class="color-bar" [style.background]="td.color"
              [style.width]=" (( td.todos.done.length / (td.todos.pending.length +  td.todos.done.length) * 100  ) || 10 ) + '%'   "
              ></div>
              <div class="icon" *ngIf="td.icon && td.icon!='' " >
                  <ion-icon [style.color]="td.color"   [name]="td.icon"></ion-icon>
              </div>
            <div class="title" >
              {{td.title}}
            </div>
            <div class="info">   
               <span>  
                 {{td.todos.done.length}}  / {{ td.todos.pending.length +  td.todos.done.length    }}     总: {{ todo.todos[i].todos.length}}     </span>
            </div>
            <div class="brief">
              <div class="todo" 
              *ngFor="let pendingtd of td.todos.pending"
              > 

                <span [ngClass]="{done:pendingtd.status=='done'}"> {{pendingtd.title}} </span>
               
              </div>
             

            </div>
          </div>

          <div class="category add" (tap)="openAdd()">
            <ion-icon name="add"></ion-icon> 新目标
          </div>


   
       

  

          </ion-slide>
          <ion-slide class="today">   
              <div class="category" *ngFor="let td of  todo.todayTasks ; let i = index" >
                  <div class="color-bar" [style.background]="td.color"
                  [style.width]=" (( td.todos.done.length / (td.todos.pending.length +  td.todos.done.length) * 100  ) || 10 ) + '%'   "
                  ></div>
                  <div class="icon" *ngIf="td.icon && td.icon!='' " >
                      <ion-icon [style.color]="td.color"   [name]="td.icon"></ion-icon>
                  </div>
                <div class="title" (tap)="goToDetail(td.title, todo.todos[i],i)">
                  {{td.title}}
                </div>
                <div class="info">   
                   <span>  
                     {{td.todos.done.length}}  / {{ td.todos.pending.length +  td.todos.done.length    }}     总: {{ todo.todos[i].todos.length}}     </span>
                </div>
                <div class="brief">
                  <div class="todo" 
                  *ngFor="let pendingtd of td.todos.pending"
                  (tap)="check(pendingtd)" > 
    
                    <span [ngClass]="{done:pendingtd.status=='done'}"> {{pendingtd.title}} </span>
                   
                  </div>
                 
    
                </div>
              </div>
    
              <div class="category add" [hidden]="!todo.todos" (tap)="openAdd()">
                <ion-icon name="add"></ion-icon> 新目标
              </div>
    
    
       
           
    
      
    
              </ion-slide>

        </ion-slides>
      </div>
    </div>

  

  </ion-content>
